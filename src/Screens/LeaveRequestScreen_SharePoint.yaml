Screens:
  LeaveRequestScreen:
    Properties:
      Fill: =RGBA(248, 250, 252, 1)
      OnVisible: |
        =Set(varActiveScreen, "LeaveRequest"); 
        // Use session from Login or fallback to Microsoft 365 lookup
        If(IsBlank(varCurrentUser), 
          Set(varCurrentUser, LookUp(NguoiDung, Email = User().Email)));
        // Validate current user session
        If(IsBlank(varCurrentUser), 
          Navigate(LoginScreen), 
          // Continue with screen initialization using session data
          Set(varUserLeaveBalance, LookUp(SoNgayPhep, And(MaNhanVien.Value = varCurrentUser.MaNhanVien.Value, Nam = Year(Today())))); 
          Set(varLeaveTypes, ShowColumns(LoaiNghi, "MaLoai", "TenLoai", "CoLuong")); 
          Set(varSelectedLeaveType, Blank()); 
          Set(varStartDate, Today()); 
          Set(varEndDate, Today()); 
          Set(varLeaveReason, ""); 
          Set(varHandoverPerson, Blank()); 
          Set(varHandoverContent, ""); 
          Set(varSubmissionSuccess, false); 
          Set(varIsSubmitting, false))
    Children:
      - 'LeaveRequest.Header':
          Control: CanvasComponent
          ComponentName: HeaderComponent
          Properties:
            X: =Parent.X
            Y: =Parent.Y
            Width: =Parent.Width
            Height: =Parent.Height * 0.06
            UserName: =varCurrentUser.HoTen
            UserRole: =varCurrentUser.MaVaiTro
            ShowNotification: =true
            NotificationCount: =0
            
      - 'LeaveRequest.Navigation':
          Control: CanvasComponent
          ComponentName: NavigationComponent
          Properties:
            X: =Parent.X
            Y: ='LeaveRequest.Header'.Y + 'LeaveRequest.Header'.Height
            Width: =If(varNavCollapsed, Parent.Width * 0.06, Parent.Width * 0.2)
            Height: =Parent.Height - 'LeaveRequest.Header'.Height
            UserRole: =varCurrentUser.MaVaiTro
            ActiveScreen: =varActiveScreen
            OnNavigate: =Set(varNavigateAction, true)
            
      - 'LeaveRequest.Content.Container':
          Control: GroupContainer
          Variant: ManualLayout
          Properties:
            X: ='LeaveRequest.Navigation'.X + 'LeaveRequest.Navigation'.Width
            Y: ='LeaveRequest.Header'.Y + 'LeaveRequest.Header'.Height
            Width: =Parent.Width - 'LeaveRequest.Navigation'.Width
            Height: =Parent.Height - 'LeaveRequest.Header'.Height
            Fill: =RGBA(248, 250, 252, 1)
          Children:
            # Page Title
            - 'LeaveRequest.Content.Title':
                Control: Label
                Properties:
                  X: =Parent.Width * 0.03
                  Y: =Parent.Height * 0.02
                  Width: =Parent.Width * 0.7
                  Height: =Parent.Height * 0.05
                  Text: ="Tạo đơn nghỉ phép"
                  Color: =RGBA(32, 54, 71, 1)
                  Font: =Font.'Open Sans'
                  FontWeight: =FontWeight.Bold
                  Size: =Parent.Height * 0.025
                  
            # Leave Balance Info Card
            - 'LeaveRequest.BalanceInfo.Container':
                Control: GroupContainer
                Variant: ManualLayout
                Properties:
                  X: =Parent.Width * 0.03
                  Y: ='LeaveRequest.Content.Title'.Y + 'LeaveRequest.Content.Title'.Height + Parent.Height * 0.02
                  Width: =Parent.Width * 0.94
                  Height: =Parent.Height * 0.08
                  Fill: =RGBA(227, 242, 253, 1)
                  BorderColor: =RGBA(187, 222, 251, 1)
                  BorderThickness: =Parent.Width * 0.001
                Children:
                  - 'LeaveRequest.BalanceInfo.Title':
                      Control: Label
                      Properties:
                        X: =Parent.Width * 0.02
                        Y: =Parent.Height * 0.1
                        Width: =Parent.Width * 0.96
                        Height: =Parent.Height * 0.35
                        Text: ="Thông tin số ngày phép"
                        Color: =RGBA(33, 150, 243, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Size: =Parent.Height * 0.18
                        
                  - 'LeaveRequest.BalanceInfo.Details':
                      Control: Label
                      Properties:
                        X: =Parent.Width * 0.02
                        Y: ='LeaveRequest.BalanceInfo.Title'.Y + 'LeaveRequest.BalanceInfo.Title'.Height
                        Width: =Parent.Width * 0.96
                        Height: =Parent.Height * 0.45
                        Text: =Concatenate(
                          "Tổng số ngày phép:", varUserLeaveBalance.TongNgayDuocPhep, " ngày | ",
                          "Đã sử dụng:", varUserLeaveBalance.SoNgayDaNghi, " ngày | ",
                          "Còn lại:", varUserLeaveBalance.SoNgayConLai, " ngày"
                        )
                        Color: =RGBA(55, 65, 81, 1)
                        Font: =Font.'Open Sans'
                        Size: =Parent.Height * 0.15
                        
            # Main Form Container
            - 'LeaveRequest.Form.Container':
                Control: GroupContainer
                Variant: ManualLayout
                Properties:
                  X: =Parent.Width * 0.03
                  Y: ='LeaveRequest.BalanceInfo.Container'.Y + 'LeaveRequest.BalanceInfo.Container'.Height + Parent.Height * 0.02
                  Width: =Parent.Width * 0.94
                  Height: =Parent.Height * 0.65
                  Fill: =RGBA(255, 255, 255, 1)
                  BorderColor: =RGBA(230, 230, 230, 1)
                  BorderThickness: =Parent.Width * 0.001
                  DropShadow: =DropShadow.Light
                Children:
                  # Employee Info Section
                  - 'LeaveRequest.Form.EmployeeInfo.Container':
                      Control: GroupContainer
                      Variant: ManualLayout
                      Properties:
                        X: =Parent.Width * 0.03
                        Y: =Parent.Height * 0.03
                        Width: =Parent.Width * 0.94
                        Height: =Parent.Height * 0.12
                        Fill: =RGBA(248, 249, 250, 1)
                        BorderColor: =RGBA(229, 231, 235, 1)
                        BorderThickness: =Parent.Width * 0.0005
                      Children:
                        - 'LeaveRequest.Form.EmployeeInfo.Title':
                            Control: Label
                            Properties:
                              X: =Parent.Width * 0.02
                              Y: =Parent.Height * 0.05
                              Width: =Parent.Width * 0.96
                              Height: =Parent.Height * 0.25
                              Text: ="Thông tin nhân viên"
                              Color: =RGBA(32, 54, 71, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Semibold
                              Size: =Parent.Height * 0.12
                              
                        - 'LeaveRequest.Form.EmployeeInfo.Details':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =Parent.Width * 0.02
                              Y: ='LeaveRequest.Form.EmployeeInfo.Title'.Y + 'LeaveRequest.Form.EmployeeInfo.Title'.Height
                              Width: =Parent.Width * 0.96
                              Height: =Parent.Height * 0.65
                            Children:
                              - 'LeaveRequest.Form.EmployeeID.Info':
                                  Control: Label
                                  Properties:
                                    X: =Parent.X
                                    Y: =Parent.Y
                                    Width: =Parent.Width * 0.3
                                    Height: =Parent.Height
                                    Text: =Concatenate("Mã NV:", varCurrentUser.MaNhanVien)
                                    Color: =RGBA(55, 65, 81, 1)
                                    Font: =Font.'Open Sans'
                                    Size: =Parent.Height * 0.35
                                    
                              - 'LeaveRequest.Form.EmployeeName.Info':
                                  Control: Label
                                  Properties:
                                    X: =Parent.Width * 0.3
                                    Y: =Parent.Y
                                    Width: =Parent.Width * 0.35
                                    Height: =Parent.Height
                                    Text: =Concatenate("Họ tên:", varCurrentUser.HoTen)
                                    Color: =RGBA(55, 65, 81, 1)
                                    Font: =Font.'Open Sans'
                                    Size: =Parent.Height * 0.35
                                    
                              - 'LeaveRequest.Form.Department.Info':
                                  Control: Label
                                  Properties:
                                    X: =Parent.Width * 0.65
                                    Y: =Parent.Y
                                    Width: =Parent.Width * 0.35
                                    Height: =Parent.Height
                                    Text: =Concatenate("Phòng ban:", LookUp(DonVi, MaDonVi = varCurrentUser.MaDonVi).TenDonVi)
                                    Color: =RGBA(55, 65, 81, 1)
                                    Font: =Font.'Open Sans'
                                    Size: =Parent.Height * 0.35
                                    
                  # Leave Request Form Fields
                  - 'LeaveRequest.Form.Fields.Container':
                      Control: GroupContainer
                      Variant: ManualLayout
                      Properties:
                        X: =Parent.Width * 0.03
                        Y: ='LeaveRequest.Form.EmployeeInfo.Container'.Y + 'LeaveRequest.Form.EmployeeInfo.Container'.Height + Parent.Height * 0.03
                        Width: =Parent.Width * 0.94
                        Height: =Parent.Height * 0.75
                      Children:
                        # Leave Type Selection
                        - 'LeaveRequest.Form.LeaveType.Container':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =Parent.X
                              Y: =Parent.Y
                              Width: =Parent.Width * 0.48
                              Height: =Parent.Height * 0.2
                            Children:
                              - 'LeaveRequest.Form.LeaveType.Input':
                                  Control: CanvasComponent
                                  ComponentName: InputComponent
                                  Properties:
                                    X: =Parent.X
                                    Y: =Parent.Y
                                    Width: =Parent.Width
                                    Height: =Parent.Height
                                    Label: ="Loại nghỉ phép"
                                    IsRequired: =true
                                    InputType: ="Dropdown"
                                    Value: =varSelectedLeaveType
                                    
                              - 'LeaveRequest.Form.LeaveType.Dropdown':
                                  Control: Classic/DropDown
                                  Properties:
                                    X: =Parent.X
                                    Y: =Parent.Height * 0.6
                                    Width: =Parent.Width
                                    Height: =Parent.Height * 0.4
                                    Items: =varLeaveTypes
                                    DefaultSelectedItems: =Filter(varLeaveTypes, MaLoai = varSelectedLeaveType)
                                    OnChange: =Set(varSelectedLeaveType, Self.Selected.MaLoai)
                                    
                        # Session Selection
                        - 'LeaveRequest.Form.Session.Container':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =Parent.Width * 0.52
                              Y: =Parent.Y
                              Width: =Parent.Width * 0.48
                              Height: =Parent.Height * 0.2
                            Children:
                              - 'LeaveRequest.Form.Session.Input':
                                  Control: CanvasComponent
                                  ComponentName: InputComponent
                                  Properties:
                                    X: =Parent.X
                                    Y: =Parent.Y
                                    Width: =Parent.Width
                                    Height: =Parent.Height
                                    Label: ="Buổi nghỉ"
                                    IsRequired: =true
                                    InputType: ="Dropdown"
                                    Value: =varStartDate
                                    
                              - 'LeaveRequest.Form.Session.Dropdown':
                                  Control: Classic/DropDown
                                  Properties:
                                    X: =Parent.X
                                    Y: =Parent.Height * 0.6
                                    Width: =Parent.Width
                                    Height: =Parent.Height * 0.4
                                    Items: =["CaNgay", "BuoiSang", "BuoiChieu"]
                                    Default: =varStartDate
                                    OnChange: =Set(varStartDate, Self.Selected.Value); Set(varEndDate, If(Self.Selected.Value = "CaNgay", varStartDate, DateAdd(varStartDate, 0.5)))
                                    
                        # Date Range Selection
                        - 'LeaveRequest.Form.DateRange.Container':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =Parent.X
                              Y: ='LeaveRequest.Form.LeaveType.Container'.Y + 'LeaveRequest.Form.LeaveType.Container'.Height + Parent.Height * 0.03
                              Width: =Parent.Width
                              Height: =Parent.Height * 0.2
                            Children:
                              # Start Date
                              - 'LeaveRequest.Form.StartDate.Container':
                                  Control: GroupContainer
                                  Variant: ManualLayout
                                  Properties:
                                    X: =Parent.X
                                    Y: =Parent.Y
                                    Width: =Parent.Width * 0.48
                                    Height: =Parent.Height
                                  Children:
                                    - 'LeaveRequest.Form.StartDate.Input':
                                        Control: CanvasComponent
                                        ComponentName: InputComponent
                                        Properties:
                                          X: =Parent.X
                                          Y: =Parent.Y
                                          Width: =Parent.Width
                                          Height: =Parent.Height * 0.6
                                          Label: ="Ngày bắt đầu"
                                          IsRequired: =true
                                          InputType: ="Date"
                                          
                                    - 'LeaveRequest.Form.StartDate.Picker':
                                        Control: Classic/DatePicker
                                        Properties:
                                          X: =Parent.X
                                          Y: =Parent.Height * 0.6
                                          Width: =Parent.Width
                                          Height: =Parent.Height * 0.4
                                          DefaultDate: =varStartDate
                                          StartOfWeek: =StartOfWeek.Monday
                                          OnChange: |
                                                      =Set(varStartDate, Self.SelectedDate);
                                                      Set(varEndDate, If(Self.SelectedDate > varEndDate, Self.SelectedDate, varEndDate));
                                                      Set(varCalculatedDays, 
                                                        If(varSelectedLeaveType = "CaNgay",
                                                          DateDiff(varStartDate, varEndDate) + 1,
                                                          0.5))
                                          
                              # End Date
                              - 'LeaveRequest.Form.EndDate.Container':
                                  Control: GroupContainer
                                  Variant: ManualLayout
                                  Properties:
                                    X: =Parent.Width * 0.52
                                    Y: =Parent.Y
                                    Width: =Parent.Width * 0.48
                                    Height: =Parent.Height
                                  Children:
                                    - 'LeaveRequest.Form.EndDate.Input':
                                        Control: CanvasComponent
                                        ComponentName: InputComponent
                                        Properties:
                                          X: =Parent.X
                                          Y: =Parent.Y
                                          Width: =Parent.Width
                                          Height: =Parent.Height * 0.6
                                          Label: ="Ngày kết thúc"
                                          IsRequired: =true
                                          InputType: ="Date"
                                          
                                    - 'LeaveRequest.Form.EndDate.Picker':
                                        Control: Classic/DatePicker
                                        Properties:
                                          X: =Parent.X
                                          Y: =Parent.Height * 0.6
                                          Width: =Parent.Width
                                          Height: =Parent.Height * 0.4
                                          DefaultDate: =varEndDate
                                          StartOfWeek: =StartOfWeek.Monday
                                          OnChange: |
                                                      =Set(varEndDate, Self.SelectedDate);
                                                      Set(varCalculatedDays, 
                                                        If(varSelectedLeaveType = "CaNgay",
                                                          DateDiff(varStartDate, varEndDate) + 1,
                                                          0.5))
                                          
                        # Calculated Days Display
                        - 'LeaveRequest.Form.CalculatedDays.Container':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =Parent.X
                              Y: ='LeaveRequest.Form.DateRange.Container'.Y + 'LeaveRequest.Form.DateRange.Container'.Height + Parent.Height * 0.02
                              Width: =Parent.Width
                              Height: =Parent.Height * 0.08
                              Fill: =RGBA(227, 242, 253, 1)
                              BorderColor: =RGBA(187, 222, 251, 1)
                              BorderThickness: =Parent.Width * 0.0005
                            Children:
                              - 'LeaveRequest.Form.CalculatedDays.Label':
                                  Control: Label
                                  Properties:
                                    X: =Parent.Width * 0.02
                                    Y: =(Parent.Height - Self.Height) / 2
                                    Width: =Parent.Width * 0.96
                                    Height: =Parent.Height * 0.6
                                    Text: =Concatenate("Tổng số ngày nghỉ:", varCalculatedDays, " ngày")
                                    Color: =RGBA(33, 150, 243, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Size: =Parent.Height * 0.3
                                    
                        # Reason Input
                        - 'LeaveRequest.Form.Reason.Container':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =Parent.X
                              Y: ='LeaveRequest.Form.CalculatedDays.Container'.Y + 'LeaveRequest.Form.CalculatedDays.Container'.Height + Parent.Height * 0.03
                              Width: =Parent.Width
                              Height: =Parent.Height * 0.25
                            Children:
                              - 'LeaveRequest.Form.Reason.Input':
                                  Control: CanvasComponent
                                  ComponentName: InputComponent
                                  Properties:
                                    X: =Parent.X
                                    Y: =Parent.Y
                                    Width: =Parent.Width
                                    Height: =Parent.Height
                                    Label: ="Lý do nghỉ phép"
                                    Placeholder: ="Nhập lý do nghỉ phép..."
                                    IsRequired: =true
                                    InputType: ="Multiline"
                                    Value: =varLeaveReason
                                    MaxLength: =1000
                                    ShowCharacterCount: =true
                                    OnChange: =Set(varLeaveReason, Self.Text)
                                    
                        # Handover Section
                        - 'LeaveRequest.Form.Handover.Container':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =Parent.X
                              Y: ='LeaveRequest.Form.Reason.Container'.Y + 'LeaveRequest.Form.Reason.Container'.Height + Parent.Height * 0.03
                              Width: =Parent.Width
                              Height: =Parent.Height * 0.2
                            Children:
                              # Handover Person
                              - 'LeaveRequest.Form.HandoverPerson.Container':
                                  Control: GroupContainer
                                  Variant: ManualLayout
                                  Properties:
                                    X: =Parent.X
                                    Y: =Parent.Y
                                    Width: =Parent.Width * 0.48
                                    Height: =Parent.Height
                                  Children:
                                    - 'LeaveRequest.Form.HandoverPerson.Input':
                                        Control: CanvasComponent
                                        ComponentName: InputComponent
                                        Properties:
                                          X: =Parent.X
                                          Y: =Parent.Y
                                          Width: =Parent.Width
                                          Height: =Parent.Height * 0.6
                                          Label: ="Người bàn giao"
                                          IsRequired: =false
                                          InputType: ="Dropdown"
                                          
                                    - 'LeaveRequest.Form.HandoverPerson.Dropdown':
                                        Control: Classic/DropDown
                                        Properties:
                                          X: =Parent.X
                                          Y: =Parent.Height * 0.6
                                          Width: =Parent.Width
                                          Height: =Parent.Height * 0.4
                                          Items: =varEmployeesForHandover
                                          OnChange: =Set(varHandoverPerson, Self.Selected.MaNhanVien)
                                          
                              # Handover Content
                              - 'LeaveRequest.Form.HandoverContent.Container':
                                  Control: GroupContainer
                                  Variant: ManualLayout
                                  Properties:
                                    X: =Parent.Width * 0.52
                                    Y: =Parent.Y
                                    Width: =Parent.Width * 0.48
                                    Height: =Parent.Height
                                  Children:
                                    - 'LeaveRequest.Form.HandoverContent.Input':
                                        Control: CanvasComponent
                                        ComponentName: InputComponent
                                        Properties:
                                          X: =Parent.X
                                          Y: =Parent.Y
                                          Width: =Parent.Width
                                          Height: =Parent.Height
                                          Label: ="Nội dung bàn giao"
                                          Placeholder: ="Mô tả công việc cần bàn giao..."
                                          IsRequired: =false
                                          InputType: ="Multiline"
                                          Value: =varHandoverContent
                                          MaxLength: =2000
                                          OnChange: =Set(varHandoverContent, Self.Text)
                                          
            # Form Actions
            - 'LeaveRequest.Actions.Container':
                Control: GroupContainer
                Variant: ManualLayout
                Properties:
                  X: =Parent.Width * 0.03
                  Y: ='LeaveRequest.Form.Container'.Y + 'LeaveRequest.Form.Container'.Height + Parent.Height * 0.02
                  Width: =Parent.Width * 0.94
                  Height: =Parent.Height * 0.08
                Children:
                  # Submit Button
                  - 'LeaveRequest.Actions.SubmitButton':
                      Control: CanvasComponent
                      ComponentName: ButtonComponent
                      Properties:
                        X: =Parent.Width - (Self.Width * 2) - Parent.Width * 0.02
                        Y: =(Parent.Height - Self.Height) / 2
                        Width: =Parent.Width * 0.15
                        Height: =Parent.Height * 0.7
                        Text: ="Gửi đơn"
                        Variant: ="Primary"
                        Icon: ="Check"
                        IsLoading: =varIsSubmitting
                        LoadingText: ="Đang gửi..."
                        IsDisabled: =Or(
                          IsBlank(varLeaveReason),
                          IsBlank(varSelectedLeaveType),
                          varStartDate > varEndDate,
                          varCalculatedDays > varUserLeaveBalance.SoNgayConLai
                        )
                        OnClick: |
                                    =Set(varIsSubmitting, true);
                                    Set(varNewLeaveRequest, Patch(Defaults(DonNghiPhep), {
                                      MaDon: GUID(),
                                      MaNhanVien: varCurrentUser.MaNhanVien,
                                      NgayBatDau: varStartDate,
                                      NgayKetThuc: varEndDate,
                                      SoNgayNghi: varCalculatedDays,
                                      MaLoai: varSelectedLeaveType,
                                      LyDo: varLeaveReason,
                                      NguoiBanGiao: varHandoverPerson,
                                      NoiDungBanGiao: varHandoverContent,
                                      TrangThai: "ChoDuyetCap1",
                                      BuoiNghi: varStartDate,
                                      NguoiTao: varCurrentUser.MaNhanVien,
                                      NgayTao: Now(),
                                      ThoiHanPheDuyet: DateAdd(Now(), varMinAdvanceDays),
                                      UuTien: "BinhThuong"
                                    }));
                                    Set(varSubmitResult, Patch(DonNghiPhep, Defaults(DonNghiPhep), varNewLeaveRequest));
                                    If(Not(IsError(varSubmitResult)),
                                      Set(varSubmissionSuccess, true),
                                      Set(varFormErrors, {Submit: "Có lỗi xảy ra khi gửi đơn. Vui lòng thử lại."}));
                                    Set(varIsSubmitting, false)
                        
                  # Cancel Button  
                  - 'LeaveRequest.Actions.CancelButton':
                      Control: CanvasComponent
                      ComponentName: ButtonComponent
                      Properties:
                        X: =Parent.Width - Self.Width
                        Y: =(Parent.Height - Self.Height) / 2
                        Width: =Parent.Width * 0.15
                        Height: =Parent.Height * 0.7
                        Text: ="Hủy"
                        Variant: ="Outline"
                        Icon: ="Cancel"
                        OnClick: =Navigate(DashboardScreen)
                        
      # Success Confirmation Modal
      - 'LeaveRequest.Confirmation.Overlay':
          Control: Rectangle
          Properties:
            X: =Parent.X
            Y: =Parent.Y
            Width: =Parent.Width
            Height: =Parent.Height
            Fill: =RGBA(0, 0, 0, 0.5)
            Visible: =varSubmissionSuccess
            OnSelect: |
              =Set(varSubmissionSuccess, false)
            
      - 'LeaveRequest.Confirmation.Modal':
          Control: Rectangle
          Variant: ManualLayout
          Properties:
            X: =(Parent.Width - Self.Width) / 2
            Y: =(Parent.Height - Self.Height) / 2
            Width: =Parent.Width * 0.4
            Height: =Parent.Height * 0.3
            Fill: =RGBA(255, 255, 255, 1)
            BorderColor: =RGBA(200, 230, 201, 1)
            BorderThickness: =Parent.Width * 0.002
            DropShadow: =DropShadow.Bold
            Visible: =varSubmissionSuccess
          Children:
            - 'LeaveRequest.Confirmation.Icon':
                Control: Classic/Icon
                Properties:
                  X: =(Parent.Width - Self.Width) / 2
                  Y: =Parent.Height * 0.1
                  Width: =Parent.Height * 0.15
                  Height: =Parent.Height * 0.15
                  Icon: =Icon.Check
                  Color: =RGBA(76, 175, 80, 1)
                  
            - 'LeaveRequest.Confirmation.Title':
                Control: Label
                Properties:
                  X: =Parent.Width * 0.05
                  Y: ='LeaveRequest.Confirmation.Icon'.Y + 'LeaveRequest.Confirmation.Icon'.Height + Parent.Height * 0.05
                  Width: =Parent.Width * 0.9
                  Height: =Parent.Height * 0.15
                  Text: ="Gửi đơn thành công!"
                  Color: =RGBA(76, 175, 80, 1)
                  Font: =Font.'Open Sans'
                  FontWeight: =FontWeight.Bold
                  Size: =Parent.Height * 0.06
                  Align: =Align.Center
                  
            - 'LeaveRequest.Confirmation.Message':
                Control: Label
                Properties:
                  X: =Parent.Width * 0.05
                  Y: ='LeaveRequest.Confirmation.Title'.Y + 'LeaveRequest.Confirmation.Title'.Height
                  Width: =Parent.Width * 0.9
                  Height: =Parent.Height * 0.25
                  Text: ="Đơn nghỉ phép của bạn đã được gửi và đang chờ phê duyệt. Bạn sẽ nhận được thông báo qua email khi có kết quả."
                  Color: =RGBA(55, 65, 81, 1)
                  Font: =Font.'Open Sans'
                  Size: =Parent.Height * 0.04
                  Align: =Align.Center
                  
            - 'LeaveRequest.Confirmation.OKButton':
                Control: CanvasComponent
                ComponentName: ButtonComponent
                Properties:
                  X: =(Parent.Width - Self.Width) / 2
                  Y: =Parent.Height * 0.75
                  Width: =Parent.Width * 0.3
                  Height: =Parent.Height * 0.15
                  Text: ="OK"
                  Variant: ="Primary"
                  OnClick: =Set(varSubmissionSuccess, false); Navigate(MyLeavesScreen) 

      # Success Modal Overlay
      - 'LeaveRequest.Success.Overlay':
          Control: Rectangle
          Properties:
            X: =0
            Y: =0
            Width: =Parent.Width
            Height: =Parent.Height
            Fill: =RGBA(0, 0, 0, 0.5)
            Visible: =varSubmissionSuccess
            OnSelect: |
              =Set(varSubmissionSuccess, false) 
