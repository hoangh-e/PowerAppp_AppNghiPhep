Screens:
  MyLeavesScreen:
    Properties:
      Fill: =RGBA(248, 250, 252, 1)
      OnVisible: =Set(varActiveScreen, "MyLeaves"); Set(varMyLeaveRequests, Table({ID: "LR001", StartDate: "15/01/2024", EndDate: "17/01/2024", Days: 3, Type: "Ngh·ªâ ph√©p nƒÉm", Reason: "Ngh·ªâ l·ªÖ T·∫øt", Status: "Approved", StatusColor: RGBA(40, 167, 69, 1), CreatedDate: "10/01/2024"}, {ID: "LR002", StartDate: "20/02/2024", EndDate: "22/02/2024", Days: 3, Type: "Ngh·ªâ ph√©p nƒÉm", Reason: "Ngh·ªâ vi·ªác c√° nh√¢n", Status: "Pending", StatusColor: RGBA(255, 193, 7, 1), CreatedDate: "15/02/2024"}, {ID: "LR003", StartDate: "10/03/2024", EndDate: "15/03/2024", Days: 6, Type: "Ngh·ªâ ph√©p nƒÉm", Reason: "Du l·ªãch gia ƒë√¨nh", Status: "Rejected", StatusColor: RGBA(220, 53, 69, 1), CreatedDate: "01/03/2024"}, {ID: "LR004", StartDate: "05/04/2024", EndDate: "05/04/2024", Days: 1, Type: "Ngh·ªâ ·ªëm", Reason: "Kh√°m b·ªánh", Status: "Approved", StatusColor: RGBA(40, 167, 69, 1), CreatedDate: "04/04/2024"}, {ID: "LR005", StartDate: "25/04/2024", EndDate: "26/04/2024", Days: 2, Type: "Ngh·ªâ ph√©p nƒÉm", Reason: "Ngh·ªâ cu·ªëi tu·∫ßn d√†i", Status: "Pending", StatusColor: RGBA(255, 193, 7, 1), CreatedDate: "20/04/2024"})); Set(varFilterStatus, "All"); Set(varSearchText, "")
    Children:
      - 'MyLeaves.Header':
          Control: HeaderComponent
          Properties:
            X: =0
            Y: =0
            Width: =Parent.Width
            Height: =80
            Title: ="ƒê∆°n ngh·ªâ ph√©p c·ªßa t√¥i"
            UserName: =varCurrentUser.FullName
            UserRole: =varCurrentUser.Role
            ShowNotification: =true
            NotificationCount: =2
            
      - 'MyLeaves.Navigation':
          Control: NavigationComponent
          Properties:
            X: =0
            Y: ='MyLeaves.Header'.Y + 'MyLeaves.Header'.Height
            Width: =250
            Height: =Parent.Height - 'MyLeaves.Header'.Height
            UserRole: =varCurrentUser.Role
            ActiveScreen: =varActiveScreen
            OnNavigate: =Set(varNavigateAction, true)
            
      - 'MyLeaves.Content.Container':
          Control: GroupContainer
          Variant: ManualLayout
          Properties:
            X: ='MyLeaves.Navigation'.X + 'MyLeaves.Navigation'.Width
            Y: ='MyLeaves.Header'.Y + 'MyLeaves.Header'.Height
            Width: =Parent.Width - 'MyLeaves.Navigation'.Width
            Height: =Parent.Height - 'MyLeaves.Header'.Height
            Fill: =RGBA(248, 250, 252, 1)
          Children:
            - 'MyLeaves.Content.Title':
                Control: Label
                Properties:
                  X: =Parent.X + 30
                  Y: =Parent.Y + 30
                  Width: =Parent.Width - 60
                  Height: =40
                  Text: ="Danh s√°ch ƒë∆°n ngh·ªâ ph√©p"
                  Color: =RGBA(32, 54, 71, 1)
                  Font: =Font.'Open Sans'
                  FontWeight: =FontWeight.Bold
                  Size: =24
                  
            - 'MyLeaves.Filters.Container':
                Control: GroupContainer
                Variant: ManualLayout
                Properties:
                  X: =Parent.X + 30
                  Y: ='MyLeaves.Content.Title'.Y + 'MyLeaves.Content.Title'.Height + 20
                  Width: =Parent.Width - 60
                  Height: =60
                  Fill: =RGBA(255, 255, 255, 1)
                  BorderColor: =RGBA(230, 230, 230, 1)
                  BorderThickness: =1
                  DropShadow: =DropShadow.Light
                Children:
                  - 'MyLeaves.Filter.Search.Label':
                      Control: Label
                      Properties:
                        X: =Parent.X + 20
                        Y: =Parent.Y + 10
                        Width: =100
                        Height: =20
                        Text: ="T√¨m ki·∫øm:"
                        Color: =RGBA(32, 54, 71, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Size: =14
                        
                  - 'MyLeaves.Filter.Search.Input':
                      Control: Classic/TextInput
                      Properties:
                        X: =Parent.X + 20
                        Y: ='MyLeaves.Filter.Search.Label'.Y + 'MyLeaves.Filter.Search.Label'.Height + 5
                        Width: =250
                        Height: =35
                        HintText: ="T√¨m theo l√Ω do, lo·∫°i ngh·ªâ..."
                        BorderColor: =RGBA(230, 230, 230, 1)
                        Font: =Font.'Open Sans'
                        Size: =12
                        PaddingLeft: =10
                        OnChange: =Set(varSearchText, Self.Text)
                        
                  - 'MyLeaves.Filter.Status.Label':
                      Control: Label
                      Properties:
                        X: ='MyLeaves.Filter.Search.Input'.X + 'MyLeaves.Filter.Search.Input'.Width + 30
                        Y: =Parent.Y + 10
                        Width: =100
                        Height: =20
                        Text: ="Tr·∫°ng th√°i:"
                        Color: =RGBA(32, 54, 71, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Size: =14
                        
                  - 'MyLeaves.Filter.Status.Dropdown':
                      Control: Classic/DropDown
                      Properties:
                        X: ='MyLeaves.Filter.Status.Label'.X
                        Y: ='MyLeaves.Filter.Status.Label'.Y + 'MyLeaves.Filter.Status.Label'.Height + 5
                        Width: =150
                        Height: =35
                        Items: =["All", "Pending", "Approved", "Rejected"]
                        Default: ="All"
                        BorderColor: =RGBA(230, 230, 230, 1)
                        Font: =Font.'Open Sans'
                        Size: =12
                        OnChange: =Set(varFilterStatus, Self.Selected.Value)
                        
                  - 'MyLeaves.Filter.NewRequest.Button':
                      Control: Classic/Button
                      Properties:
                        X: =Parent.Width - Self.Width - 20
                        Y: =(Parent.Height - Self.Height) / 2
                        Width: =180
                        Height: =40
                        Text: ="üìù T·∫°o ƒë∆°n m·ªõi"
                        Fill: =RGBA(0, 120, 212, 1)
                        Color: =RGBA(255, 255, 255, 1)
                        Font: =Font.'Open Sans'
                        FontWeight: =FontWeight.Semibold
                        Size: =14
                        OnSelect: =Navigate(LeaveRequestScreen)
                        
            - 'MyLeaves.List.Container':
                Control: GroupContainer
                Variant: ManualLayout
                Properties:
                  X: =Parent.X + 30
                  Y: ='MyLeaves.Filters.Container'.Y + 'MyLeaves.Filters.Container'.Height + 20
                  Width: =Parent.Width - 60
                  Height: =Parent.Height - 180
                  Fill: =RGBA(255, 255, 255, 1)
                  BorderColor: =RGBA(230, 230, 230, 1)
                  BorderThickness: =1
                  DropShadow: =DropShadow.Light
                Children:
                  - 'MyLeaves.List.Header':
                      Control: GroupContainer
                      Variant: ManualLayout
                      Properties:
                        X: =Parent.X
                        Y: =Parent.Y
                        Width: =Parent.Width
                        Height: =50
                        Fill: =RGBA(248, 249, 250, 1)
                      Children:
                        - 'MyLeaves.List.Header.ID':
                            Control: Label
                            Properties:
                              X: =Parent.X + 20
                              Y: =(Parent.Height - Self.Height) / 2
                              Width: =80
                              Height: =25
                              Text: ="M√£ ƒë∆°n"
                              Color: =RGBA(32, 54, 71, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Bold
                              Size: =12
                              
                        - 'MyLeaves.List.Header.Type':
                            Control: Label
                            Properties:
                              X: ='MyLeaves.List.Header.ID'.X + 'MyLeaves.List.Header.ID'.Width
                              Y: =(Parent.Height - Self.Height) / 2
                              Width: =120
                              Height: =25
                              Text: ="Lo·∫°i ngh·ªâ"
                              Color: =RGBA(32, 54, 71, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Bold
                              Size: =12
                              
                        - 'MyLeaves.List.Header.Period':
                            Control: Label
                            Properties:
                              X: ='MyLeaves.List.Header.Type'.X + 'MyLeaves.List.Header.Type'.Width
                              Y: =(Parent.Height - Self.Height) / 2
                              Width: =180
                              Height: =25
                              Text: ="Th·ªùi gian ngh·ªâ"
                              Color: =RGBA(32, 54, 71, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Bold
                              Size: =12
                              
                        - 'MyLeaves.List.Header.Days':
                            Control: Label
                            Properties:
                              X: ='MyLeaves.List.Header.Period'.X + 'MyLeaves.List.Header.Period'.Width
                              Y: =(Parent.Height - Self.Height) / 2
                              Width: =80
                              Height: =25
                              Text: ="S·ªë ng√†y"
                              Color: =RGBA(32, 54, 71, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Bold
                              Size: =12
                              
                        - 'MyLeaves.List.Header.Reason':
                            Control: Label
                            Properties:
                              X: ='MyLeaves.List.Header.Days'.X + 'MyLeaves.List.Header.Days'.Width
                              Y: =(Parent.Height - Self.Height) / 2
                              Width: =200
                              Height: =25
                              Text: ="L√Ω do"
                              Color: =RGBA(32, 54, 71, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Bold
                              Size: =12
                              
                        - 'MyLeaves.List.Header.Status':
                            Control: Label
                            Properties:
                              X: ='MyLeaves.List.Header.Reason'.X + 'MyLeaves.List.Header.Reason'.Width
                              Y: =(Parent.Height - Self.Height) / 2
                              Width: =100
                              Height: =25
                              Text: ="Tr·∫°ng th√°i"
                              Color: =RGBA(32, 54, 71, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Bold
                              Size: =12
                              
                  - 'MyLeaves.List.Gallery':
                      Control: Gallery
                      Variant: Vertical
                      Properties:
                        X: =Parent.X
                        Y: ='MyLeaves.List.Header'.Y + 'MyLeaves.List.Header'.Height
                        Width: =Parent.Width
                        Height: =Parent.Height - 'MyLeaves.List.Header'.Height
                        Items: =Filter(varMyLeaveRequests, 
                          And(
                            Or(varFilterStatus = "All", Status = varFilterStatus),
                            Or(IsBlank(varSearchText), 
                               varSearchText in Reason Or varSearchText in Type)
                          ))
                        TemplateSize: =70
                        TemplatePadding: =2
                      Children:
                        - 'Gallery.LeaveItem.Container':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =0
                              Y: =0
                              Width: =Parent.TemplateWidth
                              Height: =Parent.TemplateHeight
                              Fill: =If(Mod(ThisItem.Value, 2) = 0, RGBA(255, 255, 255, 1), RGBA(248, 249, 250, 1))
                              BorderColor: =RGBA(230, 230, 230, 1)
                              BorderThickness: =1
                            Children:
                              - 'Gallery.LeaveItem.ID':
                                  Control: Label
                                  Properties:
                                    X: =Parent.X + 20
                                    Y: =Parent.Y + 10
                                    Width: =80
                                    Height: =20
                                    Text: =ThisItem.ID
                                    Color: =RGBA(32, 54, 71, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Size: =12
                                    
                              - 'Gallery.LeaveItem.CreatedDate':
                                  Control: Label
                                  Properties:
                                    X: =Parent.X + 20
                                    Y: ='Gallery.LeaveItem.ID'.Y + 'Gallery.LeaveItem.ID'.Height + 5
                                    Width: =80
                                    Height: =15
                                    Text: =ThisItem.CreatedDate
                                    Color: =RGBA(108, 117, 125, 1)
                                    Font: =Font.'Open Sans'
                                    Size: =10
                                    
                              - 'Gallery.LeaveItem.Type':
                                  Control: Label
                                  Properties:
                                    X: ='Gallery.LeaveItem.ID'.X + 80
                                    Y: =Parent.Y + 15
                                    Width: =120
                                    Height: =40
                                    Text: =ThisItem.Type
                                    Color: =RGBA(32, 54, 71, 1)
                                    Font: =Font.'Open Sans'
                                    Size: =12
                                    
                              - 'Gallery.LeaveItem.Period':
                                  Control: Label
                                  Properties:
                                    X: ='Gallery.LeaveItem.Type'.X + 120
                                    Y: =Parent.Y + 10
                                    Width: =180
                                    Height: =20
                                    Text: =ThisItem.StartDate & " - " & ThisItem.EndDate
                                    Color: =RGBA(32, 54, 71, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Size: =12
                                    
                              - 'Gallery.LeaveItem.PeriodNote':
                                  Control: Label
                                  Properties:
                                    X: ='Gallery.LeaveItem.Period'.X
                                    Y: ='Gallery.LeaveItem.Period'.Y + 'Gallery.LeaveItem.Period'.Height + 5
                                    Width: =180
                                    Height: =15
                                    Text: ="(" & ThisItem.Days & " ng√†y)"
                                    Color: =RGBA(108, 117, 125, 1)
                                    Font: =Font.'Open Sans'
                                    Size: =10
                                    
                              - 'Gallery.LeaveItem.Days':
                                  Control: Label
                                  Properties:
                                    X: ='Gallery.LeaveItem.Period'.X + 180
                                    Y: =(Parent.Height - Self.Height) / 2
                                    Width: =80
                                    Height: =30
                                    Text: =Text(ThisItem.Days)
                                    Color: =RGBA(0, 120, 212, 1)
                                    Fill: =RGBA(240, 248, 255, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Bold
                                    Size: =16
                                    Align: =Align.Center
                                    
                              - 'Gallery.LeaveItem.Reason':
                                  Control: Label
                                  Properties:
                                    X: ='Gallery.LeaveItem.Days'.X + 80
                                    Y: =Parent.Y + 15
                                    Width: =200
                                    Height: =40
                                    Text: =ThisItem.Reason
                                    Color: =RGBA(32, 54, 71, 1)
                                    Font: =Font.'Open Sans'
                                    Size: =12
                                    
                              - 'Gallery.LeaveItem.Status':
                                  Control: Label
                                  Properties:
                                    X: ='Gallery.LeaveItem.Reason'.X + 200
                                    Y: =(Parent.Height - Self.Height) / 2
                                    Width: =90
                                    Height: =30
                                    Text: =Switch(ThisItem.Status,
                                      "Approved", "ƒê√£ duy·ªát",
                                      "Pending", "Ch·ªù duy·ªát", 
                                      "Rejected", "T·ª´ ch·ªëi",
                                      "Kh√¥ng x√°c ƒë·ªãnh")
                                    Color: =RGBA(255, 255, 255, 1)
                                    Fill: =ThisItem.StatusColor
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Size: =11
                                    Align: =Align.Center
                                    
                              - 'Gallery.LeaveItem.ViewButton':
                                  Control: Classic/Button
                                  Properties:
                                    X: =Parent.Width - Self.Width - 20
                                    Y: =(Parent.Height - Self.Height) / 2
                                    Width: =80
                                    Height: =30
                                    Text: ="Chi ti·∫øt"
                                    Fill: =RGBA(248, 249, 250, 1)
                                    Color: =RGBA(0, 120, 212, 1)
                                    BorderColor: =RGBA(0, 120, 212, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Size: =11
                                    OnSelect: =Notify("Xem chi ti·∫øt ƒë∆°n " & ThisItem.ID, NotificationType.Information) 