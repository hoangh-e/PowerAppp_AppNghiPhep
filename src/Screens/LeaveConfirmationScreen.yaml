Screens:
  LeaveConfirmationScreen:
    Properties:
      Fill: =RGBA(248, 250, 252, 1)
      OnVisible: |
        =Set(varActiveScreen, "LeaveConfirmation"); Set(varApprovedLeaves, Table({ID: "LR001", EmployeeID: "EMP001", EmployeeName: "Nguy峄卬 V膬n An", Department: "Ph貌ng C么ng ngh峄?th么ng tin", StartDate: "15/01/2024", EndDate: "17/01/2024", Days: 3, Type: "Ngh峄?ph茅p n膬m", Status: "Approved", ApprovedDate: "14/01/2024", ConfirmationStatus: "Pending"}, {ID: "LR004", EmployeeID: "EMP003", EmployeeName: "L锚 V膬n C瓢峄漬g", Department: "Ban Gi谩m 膽峄慶", StartDate: "05/04/2024", EndDate: "05/04/2024", Days: 1, Type: "Ngh峄?峄憁", Status: "Approved", ApprovedDate: "04/04/2024", ConfirmationStatus: "Confirmed"}, {ID: "LR007", EmployeeID: "EMP002", EmployeeName: "Tr岷 Th峄?B矛nh", Department: "Ph貌ng C么ng ngh峄?th么ng tin", StartDate: "20/03/2024", EndDate: "22/03/2024", Days: 3, Type: "Ngh峄?ph茅p n膬m", Status: "Approved", ApprovedDate: "18/03/2024", ConfirmationStatus: "Pending"})); Set(varSelectedLeave, Blank()); Set(varConfirmationNote, ""); Set(varIsProcessing, false)
    Children:
      - 'LeaveConfirmation.Header':
          Control: CanvasComponent
          ComponentName: HeaderComponent
          Properties:
            X: =0
            Y: =0
            Width: =Parent.Width
            Height: =80
            Title: ="Ghi nh岷璶 k岷縯 qu岷?ngh峄?ph茅p"
            UserName: =varCurrentUser.FullName
            UserRole: =varCurrentUser.Role
            ShowNotification: =true
            NotificationCount: =CountRows(Filter(varApprovedLeaves, ConfirmationStatus = "Pending"))
            
      - 'LeaveConfirmation.Navigation':
          Control: CanvasComponent
          ComponentName: NavigationComponent
          Properties:
            X: =0
            Y: ='LeaveConfirmation.Header'.Y + 'LeaveConfirmation.Header'.Height
            Width: =250
            Height: =Parent.Height - 'LeaveConfirmation.Header'.Height
            UserRole: =varCurrentUser.Role
            ActiveScreen: =varActiveScreen
            OnNavigate: =Set(varNavigateAction, true)
            
      - 'LeaveConfirmation.Content.Container':
          Control: GroupContainer
          Variant: ManualLayout
          Properties:
            X: ='LeaveConfirmation.Navigation'.X + 'LeaveConfirmation.Navigation'.Width
            Y: ='LeaveConfirmation.Header'.Y + 'LeaveConfirmation.Header'.Height
            Width: =Parent.Width - 'LeaveConfirmation.Navigation'.Width
            Height: =Parent.Height - 'LeaveConfirmation.Header'.Height
            Fill: =RGBA(248, 250, 252, 1)
          Children:
            - 'LeaveConfirmation.Content.Title':
                Control: Label
                Properties:
                  X: =Parent.X + 30
                  Y: =Parent.Y + 30
                  Width: =Parent.Width - 60
                  Height: =40
                  Text: ="Ghi nh岷璶 k岷縯 qu岷?ngh峄?ph茅p 膽茫 ph锚 duy峄噒"
                  Color: =RGBA(32, 54, 71, 1)
                  Font: =Font.'Open Sans'
                  FontWeight: =FontWeight.Bold
                  Size: =24
                  
            - 'LeaveConfirmation.Stats.Container':
                Control: GroupContainer
                Variant: ManualLayout
                Properties:
                  X: =Parent.X + 30
                  Y: ='LeaveConfirmation.Content.Title'.Y + 'LeaveConfirmation.Content.Title'.Height + 20
                  Width: =Parent.Width - 60
                  Height: =80
                Children:
                  - 'LeaveConfirmation.Stats.Pending':
                      Control: CanvasComponent
          ComponentName: StatsCardComponent
                      Properties:
                        X: =Parent.X
                        Y: =Parent.Y
                        Width: =(Parent.Width - 40) / 3
                        Height: =Parent.Height
                        Title: ="Ch峄?ghi nh岷璶"
                        Value: =CountRows(Filter(varApprovedLeaves, ConfirmationStatus = "Pending"))
                        Icon: ="Clock"
                        Color: =RGBA(255, 193, 7, 1)
                        Subtitle: ="膼啤n c岷 x谩c nh岷璶"
                        
                  - 'LeaveConfirmation.Stats.Confirmed':
                      Control: CanvasComponent
          ComponentName: StatsCardComponent
                      Properties:
                        X: ='LeaveConfirmation.Stats.Pending'.X + 'LeaveConfirmation.Stats.Pending'.Width + 20
                        Y: =Parent.Y
                        Width: =(Parent.Width - 40) / 3
                        Height: =Parent.Height
                        Title: ="膼茫 ghi nh岷璶"
                        Value: =CountRows(Filter(varApprovedLeaves, ConfirmationStatus = "Confirmed"))
                        Icon: ="CheckBadge"
                        Color: =RGBA(40, 167, 69, 1)
                        Subtitle: ="膼茫 ho脿n th脿nh"
                        
                  - 'LeaveConfirmation.Stats.Total':
                      Control: CanvasComponent
          ComponentName: StatsCardComponent
                      Properties:
                        X: ='LeaveConfirmation.Stats.Confirmed'.X + 'LeaveConfirmation.Stats.Confirmed'.Width + 20
                        Y: =Parent.Y
                        Width: =(Parent.Width - 40) / 3
                        Height: =Parent.Height
                        Title: ="T峄昻g s峄?膽啤n"
                        Value: =CountRows(varApprovedLeaves)
                        Icon: ="Calendar"
                        Color: =RGBA(0, 120, 212, 1)
                        Subtitle: ="膼茫 ph锚 duy峄噒"
                        
            - 'LeaveConfirmation.Main.Container':
                Control: GroupContainer
                Variant: ManualLayout
                Properties:
                  X: =Parent.X + 30
                  Y: ='LeaveConfirmation.Stats.Container'.Y + 'LeaveConfirmation.Stats.Container'.Height + 20
                  Width: =Parent.Width - 60
                  Height: =Parent.Height - 180
                Children:
                  - 'LeaveConfirmation.List.Container':
                      Control: GroupContainer
                      Variant: ManualLayout
                      Properties:
                        X: =Parent.X
                        Y: =Parent.Y
                        Width: =Parent.Width * 0.6
                        Height: =Parent.Height
                        Fill: =RGBA(255, 255, 255, 1)
                        BorderColor: =RGBA(230, 230, 230, 1)
                        BorderThickness: =1
                        DropShadow: =DropShadow.Light
                      Children:
                        - 'LeaveConfirmation.List.Title':
                            Control: Label
                            Properties:
                              X: =Parent.X + 20
                              Y: =Parent.Y + 20
                              Width: =Parent.Width - 40
                              Height: =30
                              Text: ="Danh s谩ch 膽啤n ngh峄?ph茅p 膽茫 ph锚 duy峄噒"
                              Color: =RGBA(32, 54, 71, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Bold
                              Size: =16
                              
                        - 'LeaveConfirmation.Filter.Container':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =Parent.X + 20
                              Y: ='LeaveConfirmation.List.Title'.Y + 'LeaveConfirmation.List.Title'.Height + 10
                              Width: =Parent.Width - 40
                              Height: =40
                            Children:
                              - 'LeaveConfirmation.Filter.Label':
                                  Control: Label
                                  Properties:
                                    X: =Parent.X
                                    Y: =Parent.Y + 5
                                    Width: =80
                                    Height: =20
                                    Text: ="Tr岷g th谩i:"
                                    Color: =RGBA(32, 54, 71, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Size: =12
                                    
                              - 'LeaveConfirmation.Filter.Dropdown':
                                  Control: Classic/DropDown
                                  Properties:
                                    X: ='LeaveConfirmation.Filter.Label'.X + 'LeaveConfirmation.Filter.Label'.Width + 10
                                    Y: =Parent.Y
                                    Width: =150
                                    Height: =30
                                    Items: =["T岷 c岷?, "Ch峄?ghi nh岷璶", "膼茫 ghi nh岷璶"]
                                    Default: ="T岷 c岷?
                                    BorderColor: =RGBA(230, 230, 230, 1)
                                    Font: =Font.'Open Sans'
                                    Size: =12
                                    
                        - 'LeaveConfirmation.List.Gallery':
                            Control: Gallery
                            Variant: Vertical
                            Properties:
                              X: =Parent.X + 20
                              Y: ='LeaveConfirmation.Filter.Container'.Y + 'LeaveConfirmation.Filter.Container'.Height + 10
                              Width: =Parent.Width - 40
                              Height: =Parent.Height - 120
                              Items: =Filter(varApprovedLeaves, 
                                If('LeaveConfirmation.Filter.Dropdown'.Selected.Value = "Ch峄?ghi nh岷璶", ConfirmationStatus = "Pending",
                                   If('LeaveConfirmation.Filter.Dropdown'.Selected.Value = "膼茫 ghi nh岷璶", ConfirmationStatus = "Confirmed", true)))
                              TemplateSize: =100
                              TemplatePadding: =10
                            Children:
                              - 'Gallery.Leave.Container':
                                  Control: GroupContainer
                                  Variant: ManualLayout
                                  Properties:
                                    X: =0
                                    Y: =0
                                    Width: =Parent.TemplateWidth
                                    Height: =Parent.TemplateHeight
                                    Fill: =If(varSelectedLeave.ID = ThisItem.ID, RGBA(240, 248, 255, 1), RGBA(248, 249, 250, 1))
                                    BorderColor: =If(varSelectedLeave.ID = ThisItem.ID, RGBA(0, 120, 212, 1), RGBA(230, 230, 230, 1))
                                    BorderThickness: =If(varSelectedLeave.ID = ThisItem.ID, 2, 1)
                                    OnSelect: =Set(varSelectedLeave, ThisItem)
                                  Children:
                                    - 'Gallery.Leave.Header':
                                        Control: GroupContainer
                                        Variant: ManualLayout
                                        Properties:
                                          X: =Parent.X + 15
                                          Y: =Parent.Y + 10
                                          Width: =Parent.Width - 30
                                          Height: =25
                                        Children:
                                          - 'Gallery.Leave.ID':
                                              Control: Label
                                              Properties:
                                                X: =Parent.X
                                                Y: =Parent.Y
                                                Width: =80
                                                Height: =25
                                                Text: =ThisItem.ID
                                                Color: =RGBA(0, 120, 212, 1)
                                                Font: =Font.'Open Sans'
                                                FontWeight: =FontWeight.Bold
                                                Size: =12
                                                
                                          - 'Gallery.Leave.ConfirmationStatus':
                                              Control: Label
                                              Properties:
                                                X: =Parent.Width - Self.Width
                                                Y: =Parent.Y
                                                Width: =100
                                                Height: =25
                                                Text: =If(ThisItem.ConfirmationStatus = "Pending", "鈴?Ch峄?ghi nh岷璶", "鉁?膼茫 ghi nh岷璶")
                                                Color: =If(ThisItem.ConfirmationStatus = "Pending", RGBA(255, 193, 7, 1), RGBA(40, 167, 69, 1))
                                                Font: =Font.'Open Sans'
                                                FontWeight: =FontWeight.Semibold
                                                Size: =10
                                                Align: =Align.Right
                                                
                                    - 'Gallery.Leave.Employee':
                                        Control: Label
                                        Properties:
                                          X: =Parent.X + 15
                                          Y: ='Gallery.Leave.Header'.Y + 'Gallery.Leave.Header'.Height + 5
                                          Width: =Parent.Width - 30
                                          Height: =20
                                          Text: =ThisItem.EmployeeName & " - " & ThisItem.Department
                                          Color: =RGBA(32, 54, 71, 1)
                                          Font: =Font.'Open Sans'
                                          FontWeight: =FontWeight.Semibold
                                          Size: =12
                                          
                                    - 'Gallery.Leave.Period':
                                        Control: Label
                                        Properties:
                                          X: =Parent.X + 15
                                          Y: ='Gallery.Leave.Employee'.Y + 'Gallery.Leave.Employee'.Height + 2
                                          Width: =Parent.Width - 30
                                          Height: =18
                                          Text: =ThisItem.StartDate & " - " & ThisItem.EndDate & " (" & ThisItem.Days & " ng脿y)"
                                          Color: =RGBA(108, 117, 125, 1)
                                          Font: =Font.'Open Sans'
                                          Size: =11
                                          
                                    - 'Gallery.Leave.TypeAndApproved':
                                        Control: Label
                                        Properties:
                                          X: =Parent.X + 15
                                          Y: ='Gallery.Leave.Period'.Y + 'Gallery.Leave.Period'.Height + 2
                                          Width: =Parent.Width - 30
                                          Height: =18
                                          Text: =ThisItem.Type & " 鈥?Duy峄噒: " & ThisItem.ApprovedDate
                                          Color: =RGBA(108, 117, 125, 1)
                                          Font: =Font.'Open Sans'
                                          Size: =10
                                          
                  - 'LeaveConfirmation.Detail.Container':
                      Control: GroupContainer
                      Variant: ManualLayout
                      Properties:
                        X: ='LeaveConfirmation.List.Container'.X + 'LeaveConfirmation.List.Container'.Width + 20
                        Y: =Parent.Y
                        Width: =Parent.Width - 'LeaveConfirmation.List.Container'.Width - 20
                        Height: =Parent.Height
                        Fill: =RGBA(255, 255, 255, 1)
                        BorderColor: =RGBA(230, 230, 230, 1)
                        BorderThickness: =1
                        DropShadow: =DropShadow.Light
                        Visible: =Not(IsBlank(varSelectedLeave))
                      Children:
                        - 'LeaveConfirmation.Detail.Title':
                            Control: Label
                            Properties:
                              X: =Parent.X + 20
                              Y: =Parent.Y + 20
                              Width: =Parent.Width - 40
                              Height: =30
                              Text: ="Ghi nh岷璶 k岷縯 qu岷?ngh峄?ph茅p"
                              Color: =RGBA(32, 54, 71, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Bold
                              Size: =16
                              
                        - 'LeaveConfirmation.Detail.Info.Container':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =Parent.X + 20
                              Y: ='LeaveConfirmation.Detail.Title'.Y + 'LeaveConfirmation.Detail.Title'.Height + 15
                              Width: =Parent.Width - 40
                              Height: =180
                              Fill: =RGBA(248, 249, 250, 1)
                            Children:
                              - 'LeaveConfirmation.Detail.LeaveInfo':
                                  Control: Label
                                  Properties:
                                    X: =Parent.X + 15
                                    Y: =Parent.Y + 15
                                    Width: =Parent.Width - 30
                                    Height: =80
                                    Text: ="馃搵 M茫 膽啤n:" & " " & "" & varSelectedLeave.ID & Char(10) & "馃懁 Nh芒n vi锚n: " & varSelectedLeave.EmployeeName & Char(10) & "馃彚 Ph貌ng ban: " & varSelectedLeave.Department & Char(10) & "馃搮 Th峄漣 gian: " & varSelectedLeave.StartDate & " - " & varSelectedLeave.EndDate
                                    Color: =RGBA(32, 54, 71, 1)
                                    Font: =Font.'Open Sans'
                                    Size: =12
                                    
                              - 'LeaveConfirmation.Detail.StatusInfo':
                                  Control: Label
                                  Properties:
                                    X: =Parent.X + 15
                                    Y: ='LeaveConfirmation.Detail.LeaveInfo'.Y + 'LeaveConfirmation.Detail.LeaveInfo'.Height + 10
                                    Width: =Parent.Width - 30
                                    Height: =60
                                    Text: ="鈴?S峄?ng脿y:" & " " & "" & varSelectedLeave.Days & " ng脿y" & Char(10) & "馃摑 Lo岷: " & varSelectedLeave.Type & Char(10) & "鉁?Ng脿y ph锚 duy峄噒: " & varSelectedLeave.ApprovedDate
                                    Color: =RGBA(32, 54, 71, 1)
                                    Font: =Font.'Open Sans'
                                    Size: =12
                                    
                              - 'LeaveConfirmation.Detail.CurrentStatus':
                                  Control: Label
                                  Properties:
                                    X: =Parent.X + 15
                                    Y: ='LeaveConfirmation.Detail.StatusInfo'.Y + 'LeaveConfirmation.Detail.StatusInfo'.Height + 10
                                    Width: =Parent.Width - 30
                                    Height: =25
                                    Text: ="馃攧 Tr岷g th谩i:" & " " & "" & If(varSelectedLeave.ConfirmationStatus = "Pending", "Ch峄?ghi nh岷璶", "膼茫 ghi nh岷璶")
                                    Color: =If(varSelectedLeave.ConfirmationStatus = "Pending", RGBA(255, 193, 7, 1), RGBA(40, 167, 69, 1))
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Size: =12
                                    
                        - 'LeaveConfirmation.Detail.Note.Label':
                            Control: Label
                            Properties:
                              X: =Parent.X + 20
                              Y: ='LeaveConfirmation.Detail.Info.Container'.Y + 'LeaveConfirmation.Detail.Info.Container'.Height + 20
                              Width: =Parent.Width - 40
                              Height: =25
                              Text: ="Ghi ch煤 x谩c nh岷璶:"
                              Color: =RGBA(32, 54, 71, 1)
                              Font: =Font.'Open Sans'
                              FontWeight: =FontWeight.Semibold
                              Size: =14
                              
                        - 'LeaveConfirmation.Detail.Note.Input':
                            Control: Classic/TextInput
                            Properties:
                              X: =Parent.X + 20
                              Y: ='LeaveConfirmation.Detail.Note.Label'.Y + 'LeaveConfirmation.Detail.Note.Label'.Height + 5
                              Width: =Parent.Width - 40
                              Height: =80
                              HintText: ="Nh岷璸 ghi ch煤 x谩c nh岷璶 ngh峄?ph茅p..."
                              Mode: =TextMode.MultiLine
                              BorderColor: =RGBA(230, 230, 230, 1)
                              Font: =Font.'Open Sans'
                              Size: =12
                              PaddingLeft: =15
                              PaddingTop: =15
                              OnChange: =Set(varConfirmationNote, Self.Text)
                              DisplayMode: =If(varSelectedLeave.ConfirmationStatus = "Confirmed", DisplayMode.Disabled, DisplayMode.Edit)
                              
                        - 'LeaveConfirmation.Detail.Actions.Container':
                            Control: GroupContainer
                            Variant: ManualLayout
                            Properties:
                              X: =Parent.X + 20
                              Y: ='LeaveConfirmation.Detail.Note.Input'.Y + 'LeaveConfirmation.Detail.Note.Input'.Height + 20
                              Width: =Parent.Width - 40
                              Height: =60
                              Visible: =varSelectedLeave.ConfirmationStatus = "Pending"
                            Children:
                              - 'LeaveConfirmation.Detail.Confirm.Button':
                                  Control: Classic/Button
                                  Properties:
                                    X: =Parent.X
                                    Y: =Parent.Y
                                    Width: =Parent.Width
                                    Height: =50
                                    Text: =If(varIsProcessing, "膼ang x峄?l媒...", "鉁?X谩c nh岷璶 ngh峄?ph茅p")
                                    Fill: =RGBA(40, 167, 69, 1)
                                    Color: =RGBA(255, 255, 255, 1)
                                    Font: =Font.'Open Sans'
                                    FontWeight: =FontWeight.Semibold
                                    Size: =14
                                    DisplayMode: =If(varIsProcessing, DisplayMode.Disabled, DisplayMode.Edit)
                                    OnSelect: |
                                      =Set(varIsProcessing, true); If(Not(IsBlank(varSelectedLeave)), Set(varApprovedLeaves, ForAll(varApprovedLeaves, If(ID = varSelectedLeave.ID, {ID: ID, EmployeeID: EmployeeID, EmployeeName: EmployeeName, Department: Department, StartDate: StartDate, EndDate: EndDate, Days: Days, Type: Type, Status: Status, ApprovedDate: ApprovedDate, ConfirmationStatus: "Confirmed"}, ThisRecord))); Notify("膼茫 x谩c nh岷璶 ngh峄?ph茅p cho " & varSelectedLeave.EmployeeName & "!", NotificationType.Success); Set(varSelectedLeave, Blank()); Set(varConfirmationNote, ""); Set(varIsProcessing, false), Notify("Vui l貌ng ch峄峮 膽啤n c岷 x谩c nh岷璶!", NotificationType.Error); Set(varIsProcessing, false))
                                      
                  - 'LeaveConfirmation.NoSelection.Container':
                      Control: GroupContainer
                      Variant: ManualLayout
                      Properties:
                        X: ='LeaveConfirmation.List.Container'.X + 'LeaveConfirmation.List.Container'.Width + 20
                        Y: =Parent.Y
                        Width: =Parent.Width - 'LeaveConfirmation.List.Container'.Width - 20
                        Height: =Parent.Height
                        Fill: =RGBA(255, 255, 255, 1)
                        BorderColor: =RGBA(230, 230, 230, 1)
                        BorderThickness: =1
                        DropShadow: =DropShadow.Light
                        Visible: =IsBlank(varSelectedLeave)
                      Children:
                        - 'LeaveConfirmation.NoSelection.Message':
                            Control: Label
                            Properties:
                              X: =Parent.X + 20
                              Y: =Parent.Y + (Parent.Height / 2) - 50
                              Width: =Parent.Width - 40
                              Height: =100
                              Text: ="馃搵 Ch峄峮 膽啤n ngh峄?ph茅p" & Char(10) & Char(10) & "Vui l貌ng ch峄峮 m峄檛 膽啤n ngh峄?ph茅p 膽茫 膽瓢峄 ph锚 duy峄噒 t峄?danh s谩ch b锚n tr谩i 膽峄?th峄眂 hi峄噉 ghi nh岷璶 k岷縯 qu岷?"
                              Color: =RGBA(108, 117, 125, 1)
                              Font: =Font.'Open Sans'
                              Size: =14
                              Align: =Align.Center 
