BÁO CÁO ĐỐI CHIẾU CHỨC NĂNG – GIAO DIỆN
Nguồn so sánh
URD (pdf_content.txt) – yêu cầu nghiệp vụ gốc
Bảng Use-case đã hiệu chỉnh (Docs/DacTa_Usecase.txt)
Mã YAML của các màn hình (src/Screens/…)
Mục tiêu: Kiểm tra từng màn hình (Screen) xem đã đáp ứng đúng, thiếu, dư, cần chỉnh theo chức năng được đặc tả.
1. LoginScreen (F02 – Xác thực người dùng)
| Hạng mục | Trạng thái | Ghi chú |
|----------|-----------|---------|
Các trường nhập Email/Password | ✅ Đã có |
Thông báo lỗi đăng nhập | ✅ |
Kiểm tra trạng thái tài khoản “HoatDong / KhongHoatDong” | ✅ |
Lưu UserSession và định tuyến sau đăng nhập | ✅ |
Tính năng “Quên mật khẩu” / Reset PW | ❌ Thiếu | URD không đề cập nhưng nên có cho UX. |
Demo login buttons | ➕ Dư thừa (không ảnh hưởng) | Chỉ dùng demo; không hại nghiệp vụ. |
Khuyến nghị
Có thể giữ nút Demo nhưng ẩn trong production.
Cân nhắc bổ sung “Quên mật khẩu” nếu scope mở rộng.
2. DashboardScreen (F01-1, F12)
| Hạng mục | Trạng thái | Ghi chú |
|----------|-----------|---------|
Điều hướng chính (NavigationComponent) | ✅ |
Thống kê tổng quan (cards) | ✅ | Tổng phép, dùng, còn lại, pending… phù hợp F12-1. |
Hoạt động gần đây | ✅ | Hiển thị 2 bản ghi sample; cần kết nối SharePoint. |
Biểu đồ thống kê (cột, đường…) | ❌ Thiếu | URD yêu cầu biểu đồ thống kê (F12-1). |
Xuất báo cáo (“Export CSV”) | ❌ Chưa trên Dashboard (có ở ReportsScreen). |
Nút/khối DEBUG “Test Nav” | ➕ Dư | Không ảnh hưởng nhưng nên bỏ. |
Cần bổ sung / điều chỉnh
Thêm ít nhất 1 biểu đồ cột/tổng hợp nghỉ phép theo tháng.
Loại bỏ Dashboard.Activity.TestNav (nút thử).
3. LeaveRequestScreen (F04-1)
| Hạng mục | Trạng thái | Ghi chú |
|----------|-----------|---------|
Biểu mẫu tạo đơn (ngày, loại, lý do…) | ✅ |
Ràng buộc số ngày / advance days | ⚠️ Chưa thấy logic theo URD (≤2 ngày đặt trước 1 ngày…) – cần rule check. |
Tính ngày phép còn lại & validate > max  | ❌ Thiếu (dùng biến varUserLeaveBalance nhưng chưa cross-check). |
Đính kèm file | ❌ Thiếu (Attachment control). |
Tự động điền người quản lý (ManagerId) | ❌ Thiếu. |
Cần bổ sung
Hàm ValidateAdvanceDays, ValidateBalance.
Attachment control & trường UploadFile.
Auto-lookup NguoiBanGiao mặc định (theo URD).
4. MyLeavesScreen (F04-2, F04-3)
| Hạng mục | Trạng thái | Ghi chú |
|----------|-----------|---------|
Danh sách + lọc + sort | ✅ |
Xem chi tiết đơn | ✅ Modal chi tiết. |
Hủy đơn nghỉ phép | ❌ Chưa có nút Hủy (F04-3). |
Sửa đơn - đã loại bỏ | ✅ phù hợp URD (không cho phép). |
Cần bổ sung
Thao tác “Hủy” khả dụng khi trạng thái còn chờ duyệt.
Toggle xác nhận, Patch DonNghiPhep.TrangThai→“Huy”.
5. CalendarScreen (F05, F06)
| Hạng mục | Trạng thái | Ghi chú |
|----------|-----------|---------|
Lịch cá nhân (Personal view) | ✅ |
Lịch Team / Department / All | ✅ | F05-1 & F06-1. |
Hiển thị nghỉ lễ (varHolidays) | ✅ |
Xuất CSV lịch tháng | ❌ Không yêu cầu trong URD (OK). |
Phù hợp – chỉ cần đảm bảo dữ liệu thật thay demo.
6. ApprovalScreen (F07)
| Hạng mục | Trạng thái | Ghi chú |
|----------|-----------|---------|
Danh sách chờ duyệt theo cấp | ✅ |
Approve / Reject / Reassign | ✅ |
Thời hạn 1 ngày auto-hủy | ❌ Logic chưa thấy (Timer/Power Automate) |
Cần bổ sung
Cơ chế tự động hủy quá hạn (Có thể via Flow/Automate – ngoài scope YAML).
7. ManagementScreen (F08, F09, F10, F11)
| Use-case | Hiện có | Thiếu / Cần bổ sung |
|----------|---------|----------------------|
F08 – Quản lý người dùng | Users Tab: Thêm/Sửa/Đổi trạng thái | Cần nút “Xóa” (F08-3) + phân trang. |
F09 – Import số ngày phép | ❌ Chưa có giao diện | Thêm “LeaveBalance Tab” hoặc nút Import Excel (Upload & Power Automate). |
F10 – Quản lý lịch nghỉ lễ & lịch làm việc | ❌ Chưa có “Holiday Tab” | Thêm tab Holidays: list NgayLe, thêm/sửa/xóa; thiết lập lịch làm việc hàng tuần. |
F11 – Thiết lập quy trình & vai trò | ❌ Chưa có Workflow / Role tab | Thêm tabs: “Roles”, “Approval Workflow”. Form cấu hình 3 cấp duyệt. |
8. ReportsScreen (F12-1, F13)
| Hạng mục | Trạng thái | Ghi chú |
|----------|-----------|---------|
Sinh báo cáo (Department, Employee, …) | ✅ | Có Switch(varReportType). |
Export CSV / file | ❌ Chưa có nút Export (F13). |
Bộ lọc (Period, Department) | ✅ |
Chart trực quan | ❌ Chưa hiển thị (chỉ Gallery). |
Cần bổ sung
Nút Export → Export() hoặc Power Automate.
Chart controls (BarChart, LineChart).
9. ProfileScreen (F03)
| Hạng mục | Trạng thái | Ghi chú |
|----------|-----------|---------|
Xem thông tin cá nhân & ngày phép | ✅ |
Chỉnh sửa thông tin cá nhân | ⚠️ Có nút “Chỉnh sửa” nhưng logic lưu chưa thấy (varIsSaving). |
Lịch sử nghỉ phép cá nhân | ✅ |
Đổi mật khẩu | ❌ Không có (URD không bắt buộc). |
10. Login → Navigation flow (F01-1)
NavigationComponent gọi Navigate() tới 10 màn hình – ✅ đáp ứng.
TỔNG HỢP ĐIỀU CHỈNH / BỔ SUNG
| Screen | Bổ sung chính | Loại bỏ / giản lược |
|--------|---------------|----------------------|
LoginScreen | “Quên mật khẩu” (tuỳ chọn) | Ẩn Demo buttons khi production |
DashboardScreen | Biểu đồ thống kê tháng/quý | Xóa TestNav button |
LeaveRequestScreen | • Kiểm tra advance-days - ngày tạo <-> ngày nghỉ • Validate quota • Attachment upload | — |
MyLeavesScreen | Nút “Hủy đơn” (Patch → TrangThai = “Huy”) | — |
CalendarScreen | Kết nối dữ liệu thực | — |
ApprovalScreen | Auto-cancel sau 1 day (Automate) | — |
ManagementScreen | Thêm Tabs: LeaveBalance Import, Holidays, Roles, Workflows | — |
ReportsScreen | Nút Export CSV, Chart controls | — |
ProfileScreen | Hoàn thiện lưu chỉnh sửa | — |