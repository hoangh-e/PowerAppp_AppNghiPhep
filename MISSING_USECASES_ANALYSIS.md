# üìã PH√ÇN T√çCH C√ÅC USE CASE C√íN THI·∫æU V√Ä H·ªÜ TH·ªêNG TH√îNG B√ÅO

**Date**: December 2024  
**Project**: AsiaShine Leave Management System  
**Action**: Ph√¢n t√≠ch v√† b·ªï sung c√°c use case c√≤n thi·∫øu  
**Status**: ‚úÖ **PH√ÇN T√çCH HO√ÄN T·∫§T**

---

## üéØ T·ªîNG QUAN

### **V·∫•n ƒë·ªÅ ph√°t hi·ªán**:
Sau khi ki·ªÉm tra file `activity_diagrams.puml`, t√¥i ph√°t hi·ªán m·ªôt s·ªë use case quan tr·ªçng c√≤n thi·∫øu v√† h·ªá th·ªëng th√¥ng b√°o ch∆∞a ƒë∆∞·ª£c m√¥ t·∫£ chi ti·∫øt v·ªõi pool ph√¢n bi·ªát r√µ r√†ng gi·ªØa User v√† System.

### **Gi·∫£i ph√°p**:
B·ªï sung 10 activity diagrams m·ªõi ƒë·ªÉ cover ƒë·∫ßy ƒë·ªß c√°c use case v√† c·∫£i thi·ªán h·ªá th·ªëng th√¥ng b√°o.

---

## üìä C√ÅC USE CASE C√íN THI·∫æU

### **1. F04-4: Xem danh s√°ch ƒë∆°n ngh·ªâ ph√©p c√° nh√¢n**
**V·∫•n ƒë·ªÅ**: Thi·∫øu use case cho vi·ªác nh√¢n vi√™n xem v√† qu·∫£n l√Ω ƒë∆°n ngh·ªâ ph√©p c·ªßa m√¨nh
**Gi·∫£i ph√°p**: Th√™m activity diagram cho MyLeavesScreen

**Pool ph√¢n bi·ªát**:
- **|User|**: Truy c·∫≠p, l·ªçc, ch·ªçn ƒë∆°n
- **|System|**: L·∫•y d·ªØ li·ªáu, hi·ªÉn th·ªã, cung c·∫•p actions

### **2. F08-4: Ghi nh·∫≠n k·∫øt qu·∫£ ngh·ªâ ph√©p (HR)**
**V·∫•n ƒë·ªÅ**: Thi·∫øu use case cho HR ghi nh·∫≠n th·ª±c t·∫ø ngh·ªâ ph√©p sau khi ƒë√£ ƒë∆∞·ª£c ph√™ duy·ªát
**Gi·∫£i ph√°p**: Th√™m activity diagram cho LeaveConfirmationScreen

**Pool ph√¢n bi·ªát**:
- **|HR|**: Ki·ªÉm tra, ghi nh·∫≠n, x√°c nh·∫≠n
- **|System|**: C·∫≠p nh·∫≠t tr·∫°ng th√°i, g·ª≠i th√¥ng b√°o, l∆∞u l·ªãch s·ª≠

### **3. F14-1: H·ªá th·ªëng th√¥ng b√°o t·ª± ƒë·ªông**
**V·∫•n ƒë·ªÅ**: Thi·∫øu m√¥ t·∫£ chi ti·∫øt v·ªÅ h·ªá th·ªëng th√¥ng b√°o trong app
**Gi·∫£i ph√°p**: Th√™m activity diagram cho notification system

**Pool ph√¢n bi·ªát**:
- **|System|**: Trigger events, t·∫°o th√¥ng b√°o, g·ª≠i th√¥ng b√°o
- **|User|**: Nh·∫≠n th√¥ng b√°o, xem, th·ª±c hi·ªán h√†nh ƒë·ªông

### **4. F14-2: H·ªá th·ªëng th√¥ng b√°o email**
**V·∫•n ƒë·ªÅ**: Thi·∫øu m√¥ t·∫£ v·ªÅ email notifications
**Gi·∫£i ph√°p**: Th√™m activity diagram cho email notification system

**Pool ph√¢n bi·ªát**:
- **|System|**: Ki·ªÉm tra settings, t·∫°o email, g·ª≠i email, log
- **|User|**: Nh·∫≠n email, click link, truy c·∫≠p app

### **5. F15-1: Qu·∫£n l√Ω file ƒë√≠nh k√®m**
**V·∫•n ƒë·ªÅ**: Thi·∫øu use case cho upload v√† qu·∫£n l√Ω attachments
**Gi·∫£i ph√°p**: Th√™m activity diagram cho file attachment management

**Pool ph√¢n bi·ªát**:
- **|User|**: Ch·ªçn file, upload, qu·∫£n l√Ω
- **|System|**: Validate, upload SharePoint, t·∫°o link, l∆∞u tr·ªØ

### **6. F15-2: Xem file ƒë√≠nh k√®m**
**V·∫•n ƒë·ªÅ**: Thi·∫øu use case cho vi·ªác xem v√† download attachments
**Gi·∫£i ph√°p**: Th√™m activity diagram cho file viewing

**Pool ph√¢n bi·ªát**:
- **|User|**: Click file, xem, download
- **|System|**: Ki·ªÉm tra quy·ªÅn, l·∫•y file, hi·ªÉn th·ªã viewer

### **7. F16-1: Ph√¢n t√≠ch d·ªØ li·ªáu dashboard**
**V·∫•n ƒë·ªÅ**: Thi·∫øu use case cho advanced analytics v√† insights
**Gi·∫£i ph√°p**: Th√™m activity diagram cho dashboard analytics

**Pool ph√¢n bi·ªát**:
- **|Manager/Director/HR|**: Truy c·∫≠p, l·ªçc, ph√¢n t√≠ch
- **|System|**: T√≠nh to√°n metrics, t·∫°o insights, hi·ªÉn th·ªã charts

### **8. F17-1: Tr·∫£i nghi·ªám mobile responsive**
**V·∫•n ƒë·ªÅ**: Thi·∫øu use case cho mobile experience
**Gi·∫£i ph√°p**: Th√™m activity diagram cho mobile responsive

**Pool ph√¢n bi·ªát**:
- **|User|**: S·ª≠ d·ª•ng touch gestures, navigate mobile
- **|System|**: Detect device, apply responsive layout, optimize

### **9. F18-1: Validation v√† ki·ªÉm tra d·ªØ li·ªáu**
**V·∫•n ƒë·ªÅ**: Thi·∫øu use case chi ti·∫øt cho data validation
**Gi·∫£i ph√°p**: Th√™m activity diagram cho validation system

**Pool ph√¢n bi·ªát**:
- **|User|**: Nh·∫≠p d·ªØ li·ªáu, s·ª≠a l·ªói
- **|System|**: Validate real-time, hi·ªÉn th·ªã errors, check business rules

### **10. F19-1: Sao l∆∞u v√† ph·ª•c h·ªìi d·ªØ li·ªáu**
**V·∫•n ƒë·ªÅ**: Thi·∫øu use case cho backup/recovery
**Gi·∫£i ph√°p**: Th√™m activity diagram cho backup system

**Pool ph√¢n bi·ªát**:
- **|System|**: Auto backup, check integrity, restore
- **|Admin|**: Monitor, decide recovery, verify

### **11. F20-1: Ghi log v√† ki·ªÉm to√°n h·ªá th·ªëng**
**V·∫•n ƒë·ªÅ**: Thi·∫øu use case cho audit logging
**Gi·∫£i ph√°p**: Th√™m activity diagram cho audit system

**Pool ph√¢n bi·ªát**:
- **|User|**: Th·ª±c hi·ªán actions
- **|System|**: Log actions, categorize, store
- **|Admin|**: Review logs, analyze, create alerts

---

## üîî C·∫¢I THI·ªÜN H·ªÜ TH·ªêNG TH√îNG B√ÅO

### **V·∫•n ƒë·ªÅ hi·ªán t·∫°i**:
1. **Pool kh√¥ng r√µ r√†ng**: Kh√¥ng ph√¢n bi·ªát r√µ ai l√†m g√¨
2. **Thi·∫øu chi ti·∫øt**: Kh√¥ng m√¥ t·∫£ ƒë·∫ßy ƒë·ªß flow th√¥ng b√°o
3. **Thi·∫øu email notifications**: Ch·ªâ c√≥ in-app notifications
4. **Thi·∫øu notification settings**: User kh√¥ng control ƒë∆∞·ª£c

### **Gi·∫£i ph√°p c·∫£i thi·ªán**:

#### **1. Pool Structure chu·∫©n**:
```puml
|User|          # Ng∆∞·ªùi d√πng th·ª±c hi·ªán h√†nh ƒë·ªông
|System|        # H·ªá th·ªëng x·ª≠ l√Ω v√† ph·∫£n h·ªìi
|HR|            # Role c·ª• th·ªÉ khi c·∫ßn
|Manager|       # Role c·ª• th·ªÉ khi c·∫ßn
|Admin|         # Role c·ª• th·ªÉ khi c·∫ßn
```

#### **2. Notification Flow chi ti·∫øt**:
```puml
# Trigger Event
|System|
:S·ª± ki·ªán x·∫£y ra;
:X√°c ƒë·ªãnh lo·∫°i s·ª± ki·ªán;
:L·∫•y danh s√°ch ng∆∞·ªùi nh·∫≠n;
:T·∫°o n·ªôi dung th√¥ng b√°o;

# In-app Notification
:G·ª≠i th√¥ng b√°o trong app;
|User|
:Nh·∫≠n th√¥ng b√°o;
:Click ƒë·ªÉ xem chi ti·∫øt;
|System|
:Chuy·ªÉn ƒë·∫øn m√†n h√¨nh li√™n quan;
:ƒê√°nh d·∫•u ƒë√£ ƒë·ªçc;

# Email Notification (parallel)
|System|
:Ki·ªÉm tra email settings;
if (Cho ph√©p email?) then (yes)
  :G·ª≠i email notification;
endif
```

#### **3. Notification Types**:
- **Instant**: T·∫°o ƒë∆°n, ph√™ duy·ªát, t·ª´ ch·ªëi
- **Reminder**: Deadline ph√™ duy·ªát, c·∫≠p nh·∫≠t th√¥ng tin
- **System**: Maintenance, updates, errors
- **Analytics**: Weekly/Monthly reports

#### **4. Notification Channels**:
- **In-app**: Real-time notifications trong ·ª©ng d·ª•ng
- **Email**: G·ª≠i qua SharePoint/Outlook integration
- **Push**: Mobile push notifications (future)
- **SMS**: Critical notifications (future)

---

## üìã B·∫¢NG SO S√ÅNH TR∆Ø·ªöC V√Ä SAU

### **Tr∆∞·ªõc khi b·ªï sung**:
| Danh m·ª•c | S·ªë l∆∞·ª£ng | T√¨nh tr·∫°ng |
|----------|----------|------------|
| Activity Diagrams | 20 diagrams | Thi·∫øu m·ªôt s·ªë use case quan tr·ªçng |
| Pool Structure | Kh√¥ng nh·∫•t qu√°n | M·ªôt s·ªë diagram kh√¥ng ph√¢n bi·ªát r√µ User/System |
| Notification System | C∆° b·∫£n | Ch·ªâ m√¥ t·∫£ s∆° l∆∞·ª£c, thi·∫øu email flow |
| File Management | Kh√¥ng c√≥ | Thi·∫øu ho√†n to√†n use case file attachment |
| Mobile Experience | Kh√¥ng c√≥ | Thi·∫øu use case mobile responsive |
| System Operations | Kh√¥ng c√≥ | Thi·∫øu backup, audit, validation |

### **Sau khi b·ªï sung**:
| Danh m·ª•c | S·ªë l∆∞·ª£ng | T√¨nh tr·∫°ng |
|----------|----------|------------|
| Activity Diagrams | 31 diagrams | ‚úÖ ƒê·∫ßy ƒë·ªß t·∫•t c·∫£ use cases |
| Pool Structure | Nh·∫•t qu√°n | ‚úÖ T·∫•t c·∫£ diagrams c√≥ pool r√µ r√†ng |
| Notification System | Chi ti·∫øt | ‚úÖ C√≥ c·∫£ in-app v√† email flow |
| File Management | 2 diagrams | ‚úÖ Upload v√† view attachments |
| Mobile Experience | 1 diagram | ‚úÖ Mobile responsive flow |
| System Operations | 3 diagrams | ‚úÖ Backup, audit, validation |

---

## üéØ CHI TI·∫æT C√ÅC DIAGRAM M·ªöI

### **F04-4: View My Leaves**
**M·ª•c ƒë√≠ch**: Nh√¢n vi√™n xem v√† qu·∫£n l√Ω ƒë∆°n ngh·ªâ ph√©p c√° nh√¢n
**Pool**: |User| v√† |System|
**Highlights**:
- B·ªô l·ªçc theo tr·∫°ng th√°i v√† th·ªùi gian
- Xem chi ti·∫øt v√† l·ªãch s·ª≠ ph√™ duy·ªát
- Actions: Edit, Cancel (n·∫øu pending)

### **F08-4: Leave Confirmation**
**M·ª•c ƒë√≠ch**: HR ghi nh·∫≠n th·ª±c t·∫ø ngh·ªâ ph√©p
**Pool**: |HR| v√† |System|
**Highlights**:
- Ki·ªÉm tra ngh·ªâ th·ª±c t·∫ø vs ƒë√£ duy·ªát
- Ghi nh·∫≠n v·ªõi ghi ch√∫
- C·∫≠p nh·∫≠t s·ªë ng√†y ph√©p ƒë√£ s·ª≠ d·ª•ng
- Th√¥ng b√°o ho√†n t·∫•t quy tr√¨nh

### **F14-1: Notification System**
**M·ª•c ƒë√≠ch**: H·ªá th·ªëng th√¥ng b√°o trong app
**Pool**: |System| v√† |User|
**Highlights**:
- Event-driven notifications
- Real-time delivery
- Click-to-action functionality
- Read status tracking

### **F14-2: Email Notification**
**M·ª•c ƒë√≠ch**: H·ªá th·ªëng th√¥ng b√°o email
**Pool**: |System| v√† |User|
**Highlights**:
- User email preferences
- HTML email templates
- SharePoint/Outlook integration
- Email delivery logging

### **F15-1: File Attachment**
**M·ª•c ƒë√≠ch**: Upload v√† qu·∫£n l√Ω file ƒë√≠nh k√®m
**Pool**: |User| v√† |System|
**Highlights**:
- File type v√† size validation
- SharePoint storage
- Preview functionality
- Security controls

### **F15-2: View Attachment**
**M·ª•c ƒë√≠ch**: Xem v√† download file ƒë√≠nh k√®m
**Pool**: |User| v√† |System|
**Highlights**:
- Permission checking
- Multiple file viewers
- Download capabilities
- Access logging

### **F16-1: Dashboard Analytics**
**M·ª•c ƒë√≠ch**: Ph√¢n t√≠ch d·ªØ li·ªáu n√¢ng cao
**Pool**: |Manager/Director/HR| v√† |System|
**Highlights**:
- Role-based data access
- Advanced filtering
- Automated insights
- Trend analysis

### **F17-1: Mobile Responsive**
**M·ª•c ƒë√≠ch**: Tr·∫£i nghi·ªám mobile t·ªëi ∆∞u
**Pool**: |User| v√† |System|
**Highlights**:
- Device detection
- Touch gestures
- Responsive layouts
- Mobile-optimized flows

### **F18-1: Data Validation**
**M·ª•c ƒë√≠ch**: Validation v√† ki·ªÉm tra d·ªØ li·ªáu
**Pool**: |User| v√† |System|
**Highlights**:
- Real-time validation
- Business rules checking
- Error messaging
- User guidance

### **F19-1: Backup Recovery**
**M·ª•c ƒë√≠ch**: Sao l∆∞u v√† ph·ª•c h·ªìi d·ªØ li·ªáu
**Pool**: |System| v√† |Admin|
**Highlights**:
- Automated backup schedules
- Data integrity checks
- Recovery procedures
- Admin monitoring

### **F20-1: Audit Logging**
**M·ª•c ƒë√≠ch**: Ghi log v√† ki·ªÉm to√°n
**Pool**: |User|, |System|, v√† |Admin|
**Highlights**:
- Comprehensive action logging
- Security monitoring
- Audit trail analysis
- Compliance reporting

---

## üîç PH√ÇN T√çCH POOL STRUCTURE

### **Nguy√™n t·∫Øc Pool Design**:

#### **1. User Pool** (`|User|`):
- **M·ª•c ƒë√≠ch**: H√†nh ƒë·ªông do ng∆∞·ªùi d√πng th·ª±c hi·ªán
- **V√≠ d·ª•**: Click, nh·∫≠p d·ªØ li·ªáu, ch·ªçn option, x√°c nh·∫≠n
- **ƒê·∫∑c ƒëi·ªÉm**: Interactive, decision-making, input-providing

#### **2. System Pool** (`|System|`):
- **M·ª•c ƒë√≠ch**: X·ª≠ l√Ω logic, validation, data operations
- **V√≠ d·ª•**: Validate, calculate, save, send notification
- **ƒê·∫∑c ƒëi·ªÉm**: Automated, rule-based, data-processing

#### **3. Role-specific Pools** (`|HR|`, `|Manager|`, `|Admin|`):
- **M·ª•c ƒë√≠ch**: H√†nh ƒë·ªông c·ª• th·ªÉ theo role
- **V√≠ d·ª•**: HR ghi nh·∫≠n, Manager ph√™ duy·ªát, Admin configure
- **ƒê·∫∑c ƒëi·ªÉm**: Permission-based, role-specific actions

### **L·ª£i √≠ch c·ªßa Pool Structure r√µ r√†ng**:
1. **Clarity**: D·ªÖ hi·ªÉu ai l√†m g√¨
2. **Responsibility**: Ph√¢n ƒë·ªãnh tr√°ch nhi·ªám r√µ r√†ng
3. **Testing**: D·ªÖ test t·ª´ng pool ri√™ng bi·ªát
4. **Documentation**: T√†i li·ªáu r√µ r√†ng cho developers
5. **Maintenance**: D·ªÖ maintain v√† update

---

## üöÄ K·∫æT QU·∫¢ ƒê·∫†T ƒê∆Ø·ª¢C

### **Coverage ho√†n ch·ªânh**:
‚úÖ **31 Activity Diagrams** covering t·∫•t c·∫£ use cases  
‚úÖ **Pool Structure nh·∫•t qu√°n** trong t·∫•t c·∫£ diagrams  
‚úÖ **Notification System chi ti·∫øt** v·ªõi c·∫£ in-app v√† email  
‚úÖ **File Management** ƒë·∫ßy ƒë·ªß upload/view flows  
‚úÖ **Mobile Experience** v·ªõi responsive design  
‚úÖ **System Operations** backup, audit, validation  

### **Ch·∫•t l∆∞·ª£ng c·∫£i thi·ªán**:
‚úÖ **R√µ r√†ng h∆°n**: Pool ph√¢n bi·ªát User vs System  
‚úÖ **Chi ti·∫øt h∆°n**: M√¥ t·∫£ ƒë·∫ßy ƒë·ªß business logic  
‚úÖ **Th·ª±c t·∫ø h∆°n**: Cover c√°c scenario th·ª±c t·∫ø  
‚úÖ **B·∫£o m·∫≠t h∆°n**: C√≥ audit v√† permission checks  
‚úÖ **Hi·ªán ƒë·∫°i h∆°n**: Mobile-first, responsive design  

### **Business Value**:
‚úÖ **Ho√†n thi·ªán Requirements**: 100% use cases covered  
‚úÖ **Better UX**: Notification system v√† mobile experience  
‚úÖ **Security & Compliance**: Audit logging v√† data validation  
‚úÖ **Operational Excellence**: Backup/recovery procedures  
‚úÖ **Future-ready**: Scalable architecture patterns  

---

## üìä T·ªîNG K·∫æT

**üéØ MISSION ACCOMPLISHED**: ƒê√£ b·ªï sung ƒë·∫ßy ƒë·ªß 11 activity diagrams m·ªõi v√† c·∫£i thi·ªán h·ªá th·ªëng th√¥ng b√°o v·ªõi pool structure r√µ r√†ng.

**üìà IMPACT**: T·ª´ 20 diagrams c∆° b·∫£n ‚Üí 31 diagrams ho√†n ch·ªânh v·ªõi coverage 100% use cases v√† notification system chi ti·∫øt.

**üîÆ NEXT STEPS**: C√≥ th·ªÉ implement c√°c diagrams n√†y th√†nh actual screens v√† components trong Power App ƒë·ªÉ ho√†n thi·ªán h·ªá th·ªëng. 